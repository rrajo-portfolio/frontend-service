<section class="home-hero" *ngIf="stats$ | async as stats">
  <div class="hero-content">
    <span class="eyebrow">{{ 'home.hero.eyebrow' | translate }}</span>
    <h1>
      {{ 'home.hero.greeting' | translate }},
      {{ userName }} 👋
    </h1>
    <p>
      {{ 'home.hero.description' | translate }}
    </p>
    <div class="hero-actions">
      <a class="btn btn-primary" routerLink="/catalog">
        <lucide-icon name="Plus" size="18"></lucide-icon>
        {{ 'home.hero.cta.newProduct' | translate }}
      </a>
      <a class="btn btn-secondary" routerLink="/orders/create">
        <lucide-icon name="ShoppingCart" size="18"></lucide-icon>
        {{ 'home.hero.cta.createOrder' | translate }}
      </a>
      <a class="btn btn-secondary" routerLink="/admin">
        <lucide-icon name="Settings" size="18"></lucide-icon>
        {{ 'home.hero.cta.adminPanel' | translate }}
      </a>
    </div>
  </div>
  <div class="hero-stats">
    <article class="stat-card">
      <div>
        <div class="stat-icon">
          <lucide-icon name="Package" size="24"></lucide-icon>
        </div>
        <p>{{ 'home.hero.stats.products' | translate }}</p>
      </div>
      <div>
        <h3>{{ stats.totalProducts }}</h3>
        <span class="stat-chip positive">+{{ stats.productsGrowth }}%</span>
      </div>
    </article>
    <article class="stat-card">
      <div>
        <div class="stat-icon warning">
          <lucide-icon name="Clock" size="24"></lucide-icon>
        </div>
        <p>{{ 'home.hero.stats.pending' | translate }}</p>
      </div>
      <div>
        <h3>{{ stats.pendingOrders }}</h3>
        <span class="stat-chip warning">
          {{ 'home.hero.stats.monitor' | translate }}
        </span>
      </div>
    </article>
    <article class="stat-card">
      <div>
        <div class="stat-icon success">
          <lucide-icon name="Users" size="24"></lucide-icon>
        </div>
        <p>{{ 'home.hero.stats.users' | translate }}</p>
      </div>
      <div>
        <h3>{{ stats.activeUsers }}</h3>
        <span class="stat-chip positive">+{{ stats.usersGrowth }}%</span>
      </div>
    </article>
    <article class="stat-card">
      <div>
        <div class="stat-icon accent">
          <lucide-icon name="TrendingUp" size="24"></lucide-icon>
        </div>
        <p>{{ 'home.hero.stats.revenue' | translate }}</p>
      </div>
      <div>
        <h3>{{ stats.revenue | currency: 'EUR' }}</h3>
        <span class="stat-chip positive">+{{ stats.revenueGrowth }}%</span>
      </div>
    </article>
  </div>
</section>

<section class="catalog-preview">
  <div class="section-header">
    <div>
      <p class="eyebrow">{{ 'home.catalog.eyebrow' | translate }}</p>
      <h2>{{ 'home.catalog.title' | translate }}</h2>
      <p>{{ 'home.catalog.description' | translate }}</p>
    </div>
    <a class="btn btn-primary" routerLink="/catalog">
      <lucide-icon name="ArrowRight" size="18"></lucide-icon>
      {{ 'home.catalog.button.open' | translate }}
    </a>
  </div>
  <div class="product-showcase" *ngIf="featuredProducts$ | async as featured">
    <article class="product-card" *ngFor="let product of featured; trackBy: trackByProduct">
      <div class="product-head">
        <span class="badge badge-status active">
          {{ 'home.catalog.status.active' | translate }}
        </span>
        <lucide-icon name="Sparkles" size="18"></lucide-icon>
      </div>
      <h3>{{ getProductName(product) }}</h3>
      <p>{{ getProductDescription(product) || ('catalog.noDescription' | translate) }}</p>
      <div class="product-meta">
        <span>{{ product.price | currency: (product.currency || 'EUR') }}</span>
        <span *ngIf="product.tags?.length">
          {{ product.tags.slice(0, 2).join(', ') }}
          <ng-container *ngIf="product.tags.length > 2">
            +{{ product.tags.length - 2 }}
          </ng-container>
        </span>
      </div>
      <a class="product-link" routerLink="/catalog">
        {{ 'home.catalog.card.link' | translate }}
        <lucide-icon name="ArrowRight" size="16"></lucide-icon>
      </a>
    </article>
    <div class="empty-state" *ngIf="!featured.length">
      <p>{{ 'home.catalog.empty' | translate }}</p>
    </div>
  </div>
</section>

<section class="experience-grid">
  <article class="experience-card" *ngFor="let card of experienceCards">
    <div class="card-icon">
      <lucide-icon [name]="card.icon" size="24"></lucide-icon>
    </div>
    <h3>{{ card.titleKey | translate }}</h3>
    <p>{{ card.descriptionKey | translate }}</p>
    <a class="btn btn-text" [routerLink]="card.link">
      {{ card.linkLabelKey | translate }}
      <lucide-icon name="ArrowUpRight" size="16"></lucide-icon>
    </a>
  </article>
</section>

<section class="quick-links-grid">
  <article class="quick-link" *ngFor="let link of quickLinks">
    <div class="link-content">
      <h4>{{ link.titleKey | translate }}</h4>
      <p>{{ link.copyKey | translate }}</p>
    </div>
    <a
      *ngIf="link.external"
      class="btn btn-text"
      [href]="link.link"
      target="_blank"
      rel="noopener noreferrer"
    >
      {{ 'home.link.button.openGuide' | translate }}
      <lucide-icon name="ArrowUpRight" size="16"></lucide-icon>
    </a>
    <a *ngIf="!link.external" class="btn btn-text" [routerLink]="link.link">
      {{ 'home.link.button.openSection' | translate }}
      <lucide-icon name="ArrowRight" size="16"></lucide-icon>
    </a>
  </article>
</section>
