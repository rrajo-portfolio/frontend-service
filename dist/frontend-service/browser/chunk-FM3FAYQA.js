import{a as j}from"./chunk-XK3HE3PP.js";import{a as F}from"./chunk-4YL2GGIB.js";import{a as R}from"./chunk-QGVP466J.js";import"./chunk-TO4NHBEA.js";import{a as A}from"./chunk-4DONFFHM.js";import"./chunk-HBN5ZDUM.js";import{$a as O,A as I,B as u,Ba as $,M as n,N as f,P as C,R as x,Rb as U,Sb as T,Tb as w,U as i,Ub as B,V as r,ea as o,fa as s,j as m,l as S,m as M,na as g,o as c,oa as y,pa as P,t as p,va as D,wa as E,xa as _,y as l,za as N}from"./chunk-XZKYCDIA.js";function H(t,a){if(t&1&&(i(0,"div",4)(1,"mat-card")(2,"mat-card-title"),o(3),r(),i(4,"mat-card-subtitle"),o(5,"Productos activos"),r()(),i(6,"mat-card")(7,"mat-card-title"),o(8),r(),i(9,"mat-card-subtitle"),o(10,"Usuarios registrados"),r()(),i(11,"mat-card")(12,"mat-card-title"),o(13),r(),i(14,"mat-card-subtitle"),o(15,"Pedidos pendientes"),r()()()),t&2){let e=a.ngIf;n(3),s(e.products),n(5),s(e.users),n(5),s(e.pendingOrders)}}function J(t,a){if(t&1&&(i(0,"mat-card")(1,"mat-card-title"),o(2),r(),i(3,"mat-card-content")(4,"p"),o(5),r(),i(6,"span"),o(7),g(8,"currency"),r()()()),t&2){let e=a.$implicit;n(2),s(e.name),n(3),s(e.description),n(2),s(P(8,3,e.price,e.currency))}}var h=class t{constructor(a,e,d){this.catalogService=a;this.ordersService=e;this.usersService=d}metrics$;highlightedProducts$;ngOnInit(){let a=this.catalogService.getProducts().pipe(c(()=>m([])),p(1)),e=this.ordersService.getOrders().pipe(c(()=>m([])),p(1)),d=this.usersService.getUsers().pipe(c(()=>m([])),p(1));this.metrics$=M([a,e,d]).pipe(S(([b,k,q])=>({products:b.length,users:q.length,pendingOrders:k.filter(z=>z.status==="PENDING").length}))),this.highlightedProducts$=a.pipe(S(b=>b.slice(0,3)))}static \u0275fac=function(e){return new(e||t)(f(j),f(F),f(R))};static \u0275cmp=I({type:t,selectors:[["app-dashboard"]],decls:10,vars:6,consts:[[1,"dashboard-container"],["class","metrics",4,"ngIf"],[1,"highlighted"],[4,"ngFor","ngForOf"],[1,"metrics"]],template:function(e,d){e&1&&(i(0,"section",0)(1,"h2"),o(2,"Resumen operativo"),r(),C(3,H,16,3,"div",1),g(4,"async"),i(5,"h3"),o(6,"Productos destacados"),r(),i(7,"div",2),C(8,J,9,6,"mat-card",3),g(9,"async"),r()()),e&2&&(n(3),x("ngIf",y(4,2,d.metrics$)),n(5),x("ngForOf",y(9,4,d.highlightedProducts$)))},dependencies:[D,E,U,w,B,T,_,N],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:1rem}.dashboard-container[_ngcontent-%COMP%]   .metrics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.dashboard-container[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem}"]})};var K=[{path:"",component:h}],v=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=u({type:t});static \u0275inj=l({imports:[O.forChild(K),O]})};var L=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=u({type:t});static \u0275inj=l({imports:[$,A,v]})};export{L as DashboardModule};
