import{Va as p,a as r,b as o,h as n,l as s,x as c,z as d}from"./chunk-XZKYCDIA.js";var l=class a{constructor(e){this.snackBar=e}notifications$=new n([{id:"notif-1",title:"Nuevo despliegue exitoso",message:"Jenkins despleg\xF3 portfolio-infra con Helm.",type:"success",read:!1,createdAt:new Date(Date.now()-1e3*60*5)},{id:"notif-2",title:"Pedido pendiente",message:"Hay pedidos en estado PENDING esperando revisi\xF3n.",type:"warning",read:!1,createdAt:new Date(Date.now()-1e3*60*25)},{id:"notif-3",title:"Recordatorio de seguridad",message:"Revisa los roles en Keycloak para la demo de hoy.",type:"info",read:!0,createdAt:new Date(Date.now()-1e3*60*60*4)}]);success(e){this.snackBar.open(e,"OK",{duration:3e3,panelClass:["snackbar-success"]})}error(e){this.snackBar.open(e,"Cerrar",{duration:5e3,panelClass:["snackbar-error"]})}stream(){return this.notifications$.asObservable()}unreadCount(){return this.stream().pipe(s(e=>e.filter(t=>!t.read).length))}markAsRead(e){let t=this.notifications$.getValue().map(i=>i.id===e?o(r({},i),{read:!0}):i);this.notifications$.next(t)}markAllAsRead(){let e=this.notifications$.getValue().map(t=>o(r({},t),{read:!0}));this.notifications$.next(e)}static \u0275fac=function(t){return new(t||a)(d(p))};static \u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})};export{l as a};
