import{a as d}from"./chunk-TO4NHBEA.js";import{l as t,x as c,z as p}from"./chunk-XZKYCDIA.js";var u=class i{constructor(r){this.api=r}baseEndpoint="/api/catalog/products";getProducts(){return this.api.get(this.baseEndpoint).pipe(t(r=>this.ensureArray(r.content)))}searchProducts(r){let o=r?`?q=${encodeURIComponent(r)}`:"",s=r.trim().toLowerCase();return this.api.get(`${this.baseEndpoint}/search${o}`).pipe(t(e=>this.ensureArray(e)),t(e=>s?e.filter(n=>[n.name,n.description,...n.tags??[]].filter(Boolean).map(a=>a.toString().toLowerCase()).some(a=>a.includes(s))):e))}getProduct(r){return this.api.get(`${this.baseEndpoint}/${r}`)}ensureArray(r){return Array.isArray(r)?r:[]}static \u0275fac=function(o){return new(o||i)(p(d))};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})};export{u as a};
